# Gitの運用方法

このドキュメントでは、このTodoアプリを開発する際のGitの基本的な使い方を説明します。

## 📚 Gitとは？

**Git**は、コードの変更履歴を管理するツールです。

- **変更履歴を保存**：いつ、誰が、何を変更したかを記録できます
- **過去の状態に戻せる**：間違えて削除したコードを復元できます
- **複数人で開発できる**：同じプロジェクトを複数人で同時に編集できます

## 🚀 基本的な使い方

### 🌿 ブランチの使い方

**ブランチ**は、コードの「枝分かれ」です。新しい機能を追加するときは、新しいブランチを作成して作業します。

#### ブランチを作成する

1. Cursorの左下に`main`と書いてあるところをクリックします
2. ブランチ名を入力します
   - 例：`feature/add-edit-function`（編集機能を追加するブランチ）
   - 例：`fix/bug-in-sidebar`（サイドバーのバグを修正するブランチ）

**ブランチ名の付け方**：

- `feature/`：新しい機能を追加する場合
- `fix/`：バグを修正する場合

#### ブランチをGitHubに発行する

新しいブランチを作成すると、Cursorのサイドバーに「Branchの発行」というボタンが表示されます。

**発行とは？**

- 作成したブランチをGitHubに送信することです
- 発行すると、GitHub上でもそのブランチが使えるようになります
- 他の人とブランチを共有したり、プルリクエストを作成したりできます

**発行の手順**：

1. 「Branchの発行」ボタンをクリック
2. ブランチがGitHubに送信されます

**コマンドで行う場合**：

```bash
git push -u origin feature/add-edit-function
```

### コミット（変更を記録する）

コードを変更したら、その変更を記録（コミット）します。

#### 1. 変更を確認する

Cursorの左側のサイドバーから「ソース管理」アイコンをクリックすると、変更されたファイルが表示されます。

- 変更されたファイルは「変更」セクションに表示されます
- ファイル名の横に「+」ボタンがあるので、クリックすると変更内容を確認できます

#### 2. 変更をステージングする

変更したファイルを「コミットする準備ができた」状態にします。

Cursorのサイドバーで：

1. 変更されたファイルの横にある「+」ボタンをクリック
2. または、すべての変更をステージングする場合は「変更」の横にある「+」ボタンをクリック

**コマンドで行う場合**：

```bash
git add .
```

#### 3. コミットする

変更を記録します。

Cursorのサイドバーで：

1. メッセージ入力欄にコミットメッセージを入力（例：「リスト詳細ページに編集機能を追加」）
2. 「コミット」ボタンをクリック

**コマンドで行う場合**：

```bash
git commit -m "リスト詳細ページに編集機能を追加"
```

**コミットメッセージの書き方**：

- 何を変更したかが分かるように書く
- 例：「リスト詳細ページに編集機能を追加」
- 例：「アイテムの削除ボタンを追加」
- 例：「サイドバーのデザインを修正」

### プッシュ（リモートに送信する）

コミットした変更を、GitHubなどのリモートリポジトリに送信します。

Cursorのサイドバーで：

1. 「変更の同期」ボタンをクリック

これで、変更がGitHubに送信されます。

**コマンドで行う場合**：

```bash
git push
```

## 🔄 プルリクエスト（PR）の作成

**プルリクエスト（PR）**は、ブランチの変更をメインブランチに取り込んでもらうための依頼です。

### 1. ブランチで作業を完了する

- コードを変更
- コミット
- プッシュ

### 2. GitHubでプルリクエストを作成

1. GitHubのリポジトリページを開く
2. 「Pull requests」タブをクリック
3. 「New pull request」をクリック
4. ベースブランチ（通常は`main`）と、変更したブランチを選択
5. タイトルと説明を書く
   - タイトル：何を変更したか（例：「リスト詳細ページに編集機能を追加」）
   - 説明：変更の詳細（例：「リスト名を編集できるようにしました」）
6. 「Create pull request」をクリック

### 3. レビューとマージ

- 他の人がコードを確認（レビュー）
- 問題がなければ、メインブランチに取り込まれる（マージ）

## 📝 よく使うコマンド

基本的な操作はCursorのサイドバーから行えますが、コマンドで行う場合の一覧です：

| コマンド                     | 説明                       |
| ---------------------------- | -------------------------- |
| `git add .`                  | すべての変更をステージング |
| `git commit -m "メッセージ"` | 変更をコミット             |
| `git push`                   | リモートに送信             |
| `git fetch`                  | リモートの変更を取得       |
| `git merge`                  | ブランチをマージ           |
| `git checkout -b ブランチ名` | 新しいブランチを作成       |

## 💡 初心者へのアドバイス

### コミットは小さく、頻繁に

- 1つの機能を追加したら、すぐにコミット
- バグを修正したら、すぐにコミット
- 「動く状態」になったらコミット

### コミットメッセージは分かりやすく

- 何を変更したかが分かるように書く
- 例：「編集機能を追加」→「リスト名を編集できるようにした」

### ブランチは機能ごとに作成

- 新しい機能を追加するときは、必ず新しいブランチを作成
- メインブランチ（`main`）で直接作業しない

## 🆘 よくある問題と解決方法

### 問題1: `git push`でエラーが出る

**原因**: リモートに新しい変更がある場合

**解決方法**:

```bash
git fetch
git merge
```

リモートの変更を取得してマージしてから、再度プッシュ：

```bash
git push
```

### 問題2: 間違えてコミットしてしまった

**原因**: コミットメッセージを間違えた、または不要なファイルをコミットした

**解決方法**:

**コミットメッセージを変更する場合**：

```bash
git commit --amend -m "正しいメッセージ"
```

**最後のコミットを取り消す場合**（変更は残る）：

```bash
git reset --soft HEAD~1
```

### 問題3: ブランチを間違えて作業してしまった

**解決方法**:

変更を保存してから、正しいブランチに切り替え：

```bash
git stash
git checkout 正しいブランチ名
git stash pop
```

## 📚 関連ドキュメント

- [開発ガイド](./開発ガイド.md) - プロジェクトの構造と開発の流れ
- [README.md](../README.md) - セットアップ手順

---

Happy Coding! 🎉
